{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import StylesApp from\"../../App.module.css\";import Styles from\"./styles.module.css\";import{AxiosCalificarProducto,AxiosGetProductScore}from\"../../axiosCollection/Product/AxiosProduct\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function QualificationBar(_ref){let{id}=_ref;const[starIndex,setStarIndex]=useState(0);const[submit,setSubmit]=useState(false);const[calificacion_text,setCalificacion_text]=useState(\"Puntuaci\\xF3n: \".concat(starIndex===0?\"\":starIndex));const[errorMessage,setErrorMessage]=useState(\"\");let stars=[];let star=i=>/*#__PURE__*/_jsx(\"svg\",{index:i,viewBox:\"0 0 15 17\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M7.27778 0L8.91174 4.83688H14.1994L9.92159 7.82624L11.5555 12.6631L7.27778 9.67376L3.00001 12.6631L4.63397 7.82624L0.3562 4.83688H5.64382L7.27778 0Z\",className:i>=starIndex?Styles.star:Styles.starActive})},i);useEffect(()=>{AxiosGetProductScore(sessionStorage.getItem(\"email\"),id,setStarIndex);setCalificacion_text(\"Seleccione puntuaci\\xF3n\");},[]);const renderStar=()=>{for(let i=0;i<5;i++){stars.push(star(i));}return stars;};renderStar();const handleStarIndex=i=>{setStarIndex(i);setSubmit(false);setCalificacion_text(\"Puntuaci\\xF3n: \".concat(i));};const handleSubmit=()=>{setSubmit(true);setCalificacion_text(\"Enviando puntuaci\\xF3n...\");AxiosCalificarProducto(starIndex,id,setCalificacion_text,setErrorMessage);};const handleReset=()=>{setStarIndex(0);setCalificacion_text(\"Seleccione puntuaci\\xF3n\");};return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(Styles.qualificationBar,\" \").concat(StylesApp.delimiter),children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(Styles.qualificationBarChild,\" \").concat(StylesApp.delimiterChild),children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.qualificationBarTitle,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Califica este alojamiento: \"}),/*#__PURE__*/_jsx(\"div\",{className:Styles.starsMap,children:stars.map((star,i)=>{return/*#__PURE__*/_jsx(\"div\",{className:Styles.starBox,onClick:()=>handleStarIndex(i+1),children:star},i);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.qualificationButtons,children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.containerButtons,children:[/*#__PURE__*/_jsx(\"button\",{className:Styles.qualificationReset,onClick:handleReset,children:\" Resetear \"}),/*#__PURE__*/_jsx(\"button\",{className:Styles.qualificationSubmit,onClick:starIndex>0?handleSubmit:null,children:\" Enviar \"})]}),/*#__PURE__*/_jsx(\"div\",{className:Styles.qualificationConfirm,children:calificacion_text})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","StylesApp","Styles","AxiosCalificarProducto","AxiosGetProductScore","jsx","_jsx","jsxs","_jsxs","QualificationBar","_ref","id","starIndex","setStarIndex","submit","setSubmit","calificacion_text","setCalificacion_text","concat","errorMessage","setErrorMessage","stars","star","i","index","viewBox","fill","xmlns","children","d","className","starActive","sessionStorage","getItem","renderStar","push","handleStarIndex","handleSubmit","handleReset","qualificationBar","delimiter","qualificationBarChild","delimiterChild","qualificationBarTitle","starsMap","map","starBox","onClick","qualificationButtons","containerButtons","qualificationReset","qualificationSubmit","qualificationConfirm"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/Product/QualificationBar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport StylesApp from \"../../App.module.css\";\nimport Styles from \"./styles.module.css\";\nimport { AxiosCalificarProducto, AxiosGetProductScore } from \"../../axiosCollection/Product/AxiosProduct\";\n\nexport default function QualificationBar({ id }) {\n    const [starIndex, setStarIndex] = useState(0);\n    const [submit, setSubmit] = useState(false);\n    const [calificacion_text, setCalificacion_text] = useState(`Puntuación: ${starIndex === 0 ? \"\" : starIndex}`);\n    const [errorMessage, setErrorMessage] = useState(\"\");  \n\n    let stars = [];\n\n    let star = (i) => <svg key={i} index={i} viewBox=\"0 0 15 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M7.27778 0L8.91174 4.83688H14.1994L9.92159 7.82624L11.5555 12.6631L7.27778 9.67376L3.00001 12.6631L4.63397 7.82624L0.3562 4.83688H5.64382L7.27778 0Z\" className={i >= starIndex ? Styles.star : Styles.starActive} /></svg>;\n    \n    useEffect(()=>{\n        AxiosGetProductScore(sessionStorage.getItem(\"email\"), id, setStarIndex);       \n        setCalificacion_text(`Seleccione puntuación`);\n\n    },[])    \n\n    const renderStar = () => {\n        for (let i = 0; i < 5; i++) {\n            stars.push(star(i));\n        }\n        return stars;\n    }\n\n    renderStar();\n\n    const handleStarIndex = (i) => {\n        setStarIndex(i);\n        setSubmit(false);\n        setCalificacion_text(`Puntuación: ${i}`);\n    }\n\n    const handleSubmit = () => {\n        setSubmit(true);\n        setCalificacion_text(`Enviando puntuación...`);\n        AxiosCalificarProducto(starIndex, id, setCalificacion_text, setErrorMessage)\n    }\n\n    const handleReset = () => {\n        setStarIndex(0);\n        setCalificacion_text(`Seleccione puntuación`);\n    }\n\n    return (\n        <div className={`${Styles.qualificationBar} ${StylesApp.delimiter}`}>\n            <div className={`${Styles.qualificationBarChild} ${StylesApp.delimiterChild}`}>\n                <div className={Styles.qualificationBarTitle}>\n                    <h2>Califica este alojamiento: </h2>\n                    <div className={Styles.starsMap}>\n                        {stars.map((star, i) => {\n                            return <div key={i} className={Styles.starBox} onClick={() => handleStarIndex(i + 1)} >{star}</div>;\n                        })}\n                    </div>\n                </div>\n                <div className={Styles.qualificationButtons}>\n                    <div className={Styles.containerButtons}>\n                        <button className={Styles.qualificationReset} onClick={handleReset} > Resetear </button>\n                        <button className={Styles.qualificationSubmit} onClick={starIndex > 0 ? handleSubmit : null} > Enviar </button>\n                    </div>\n                    <div className={Styles.qualificationConfirm} >{calificacion_text}</div>\n                </div>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}