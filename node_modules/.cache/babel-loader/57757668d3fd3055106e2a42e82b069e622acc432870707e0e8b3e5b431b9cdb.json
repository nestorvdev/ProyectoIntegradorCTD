{"ast":null,"code":"import axios from\"axios\";const baseUrl=\"http://worldguestbooking.com.ar:8080/\";function AxiosLogin(email,password,setFormValido,setLog,setError,setEmail,setPassword,setLoading,lastLocation){axios.post(baseUrl+\"users/login\",{\"email\":\"\".concat(email),\"password\":\"\".concat(password)}).then(response=>{console.log(response.data);if(response.data.activation===\"true\"){sessionStorage.setItem(\"name\",\"\".concat(response.data.name.charAt(0).toUpperCase()).concat(response.data.name.slice(1)));sessionStorage.setItem(\"surname\",\"\".concat(response.data.surname.charAt(0).toUpperCase()).concat(response.data.surname.slice(1)));sessionStorage.setItem(\"iniciales\",\"\".concat(response.data.name.slice(0,1).toUpperCase()).concat(response.data.surname.slice(0,1).toUpperCase()));sessionStorage.setItem(\"token\",response.data.token);sessionStorage.setItem(\"id\",response.data.id);sessionStorage.setItem(\"email\",email);sessionStorage.setItem(\"log\",\"true\");sessionStorage.setItem(\"role\",response.data.role);/*  setEmail({ campo:email, valido: true })\n             setPassword({campo:password, valido: true }) */setFormValido(true);setLoading(false);setLog(true);}else{setPassword({error:\"El usuario no ha sido confirmado. Por favor revise su mail\"});}}).catch(error=>{console.log(error);if(error.response.status!==200){setError(\"Las credenciales son inválidas\");setEmail({campo:email,valido:false});setPassword({campo:password,valido:false});setFormValido(false);sessionStorage.setItem(\"log\",\"false\");sessionStorage.removeItem(\"token\");}});}function AxiosCreate(name,surname,email,password,setFormValido,setLog,setError,setEmail,setPassword,setLoading,lastLocation,openModalConfirm){axios.post(baseUrl+\"users/create\",{\"name\":\"\".concat(name),\"surname\":\"\".concat(surname),\"email\":\"\".concat(email),\"password\":\"\".concat(password)}).then(response=>{console.log(response);setLoading(false);openModalConfirm(true);}).catch(error=>{setLoading(false);console.log(error.response);if(error.response.status!==200){setEmail({valido:false,error:\"El usuario ya existe.\"});setFormValido(false);sessionStorage.setItem(\"log\",\"false\");sessionStorage.removeItem(\"token\");}});}export{AxiosLogin,AxiosCreate};","map":{"version":3,"names":["axios","baseUrl","AxiosLogin","email","password","setFormValido","setLog","setError","setEmail","setPassword","setLoading","lastLocation","post","concat","then","response","console","log","data","activation","sessionStorage","setItem","name","charAt","toUpperCase","slice","surname","token","id","role","error","catch","status","campo","valido","removeItem","AxiosCreate","openModalConfirm"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/axiosCollection/Forms/AxiosForms.jsx"],"sourcesContent":["import axios from \"axios\";\nconst baseUrl = \"http://worldguestbooking.com.ar:8080/\"\n\nfunction AxiosLogin(email, password, setFormValido, setLog, setError, setEmail, setPassword, setLoading, lastLocation) {\n    axios.post(baseUrl + \"users/login\", {\n        \"email\": `${email}`,\n        \"password\": `${password}`\n    }).then(response => {\n        console.log(response.data);\n        if(response.data.activation===\"true\"){\n            sessionStorage.setItem(\"name\", `${response.data.name.charAt(0).toUpperCase()}${response.data.name.slice(1)}`);\n            sessionStorage.setItem(\"surname\", `${response.data.surname.charAt(0).toUpperCase()}${response.data.surname.slice(1)}`);\n            sessionStorage.setItem(\"iniciales\", `${response.data.name.slice(0, 1).toUpperCase()}${response.data.surname.slice(0, 1).toUpperCase()}`)\n            sessionStorage.setItem(\"token\", response.data.token);\n            sessionStorage.setItem(\"id\", response.data.id);\n            sessionStorage.setItem(\"email\", email);\n            sessionStorage.setItem(\"log\", \"true\");\n            sessionStorage.setItem(\"role\", response.data.role);\n            /*  setEmail({ campo:email, valido: true })\n             setPassword({campo:password, valido: true }) */\n            setFormValido(true);\n            setLoading(false);\n            setLog(true);\n        }else{\n            setPassword({error: \"El usuario no ha sido confirmado. Por favor revise su mail\"})\n        }\n\n    })\n        .catch(error => {\n            console.log(error);\n            if (error.response.status !== 200) {\n                setError(\"Las credenciales son inválidas\")\n                setEmail({ campo: email, valido: false })\n                setPassword({ campo: password, valido: false })\n                setFormValido(false)\n                sessionStorage.setItem(\"log\", \"false\");\n                sessionStorage.removeItem(\"token\")\n            }\n        })\n}\n\nfunction AxiosCreate(name, surname, email, password, setFormValido, setLog, setError, setEmail, setPassword, setLoading, lastLocation,openModalConfirm) {\n    axios.post(baseUrl + \"users/create\", {\n        \"name\": `${name}`,\n        \"surname\": `${surname}`,\n        \"email\": `${email}`,\n        \"password\": `${password}`\n    })\n    .then(response => {\n        console.log(response);\n        setLoading(false);\n        openModalConfirm(true);\n    })\n    .catch(error => {\n        setLoading(false)\n        console.log(error.response);\n        if (error.response.status !== 200) {\n            setEmail({ valido: false, error: \"El usuario ya existe.\"})\n            setFormValido(false)\n            sessionStorage.setItem(\"log\", \"false\");\n            sessionStorage.removeItem(\"token\")\n        }\n    })\n}\n\nexport { AxiosLogin, AxiosCreate }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}