{"ast":null,"code":"/*COMPONENTE CARDS*/import axios from\"axios\";const{format}=require(\"date-fns\");const baseUrl=\"http://worldguestbooking.com.ar:8080/\";//YA TESTEADO\nfunction AxiosGetProductosRecomendados(setData,setLoading,setTitulo,setErrorMessage){const baseUrlProductosRecomendados=\"\".concat(baseUrl,\"products/get/recommended\");axios.get(baseUrlProductosRecomendados).then(response=>{setData(response.data);setLoading(false);setTitulo(\"Recomendaciones\");}).catch(error=>{setErrorMessage(error.message);setLoading(false);});}//YA TESTEADO\nfunction AxiosGetProductosFavoritos(setListadoFavoritos,setErrorMessage){let email=sessionStorage.getItem(\"email\");const baseUrlFavourite=\"\".concat(baseUrl,\"users/getfavourites/\").concat(email);sessionStorage.getItem(\"email\")&&axios.get(baseUrlFavourite).then(response=>{setListadoFavoritos(response.data);}).catch(error=>{setErrorMessage(error.message);});}//YA TESTEADO\nfunction AxiosGetProductoFavorito(setErrorMessage,id,setLike){let email=sessionStorage.getItem(\"email\");const baseUrlFavourite=\"\".concat(baseUrl,\"users/getfavourites/\").concat(email);sessionStorage.getItem(\"email\")&&axios.get(baseUrlFavourite).then(response=>{let flag=false;response.data.map(p=>p.id===id?flag=true:null);setLike(flag);}).catch(error=>{setErrorMessage(error.message);return false;});}function AxiosGetProductosPorCiudadFechaYCategoria(setData,setLoading,setTitulo,setErrorMessage,city,startDate,endDate,category){const baseUrlFiltros=\"\".concat(baseUrl,\"products/filters\");let startDateParse=startDate!==null?new Date(startDate).getFullYear()+\"-\"+format(new Date(startDate),\"MM\")+\"-\"+format(new Date(startDate),\"dd\"):null;let endDateParse=endDate!==null?new Date(endDate).getFullYear()+\"-\"+format(new Date(endDate),\"MM\")+\"-\"+format(new Date(endDate),\"dd\"):null;axios.post(baseUrlFiltros,{cityId:city,startDate:startDateParse,endDate:endDateParse,category:category}).then(response=>{setData(response.data);console.log(response.data,\"Axios\");setLoading(false);return response.data;}).then(response=>{let titleCity=()=>{return city&&\" en \".concat(response[0].city.name,\" \");};let titleCategory=()=>{return category===\"All\"?\" para todas las categor\\xEDas disponibles \":\" para \".concat(category,\" disponibles \");};let titleFecha=()=>{return startDate?\"del \".concat(startDate.toLocaleDateString(),\" al \").concat(endDate.toLocaleDateString(),\" \"):\"\";};if(response.length===0){setTitulo(\"No hay resultados disponibles para la búsqueda\");}else{setTitulo(\"Resultados \".concat(titleCategory(),\" \").concat(titleCity(),\" \").concat(titleFecha()));}}).catch(error=>{setErrorMessage(error.message);setLoading(false);console.log(error.message,\"soy el mensaje de error\");});}function AxiosCreateFavourite(id,setErrorMessage){let email=sessionStorage.getItem(\"email\");const baseUrlFavourite=\"\".concat(baseUrl,\"users/handlefavourite/\").concat(email,\"/\").concat(id);console.log(baseUrlFavourite,\"soy la url de favoritos\");if(sessionStorage.getItem(\"email\")!=null){axios.post(baseUrlFavourite).catch(error=>{setErrorMessage(error.message);console.log(error.message);});}}function AxiosDeletedMark(id,openModalSucceed,openModalErrorProductoConReservas){const baseUrlBorrarProducto=\"\".concat(baseUrl,\"products/deletedmark/\").concat(id);axios.post(baseUrlBorrarProducto,{},{headers:{Authorization:\"Bearer \".concat(sessionStorage.getItem(\"token\"))}}).then(response=>{console.log(response.data);openModalSucceed();}).catch(error=>{if(error.response.status){openModalErrorProductoConReservas();}console.log(error.message);});}export{AxiosGetProductosRecomendados,AxiosGetProductosFavoritos,AxiosGetProductosPorCiudadFechaYCategoria,AxiosCreateFavourite,AxiosGetProductoFavorito,AxiosDeletedMark};","map":{"version":3,"names":["axios","format","require","baseUrl","AxiosGetProductosRecomendados","setData","setLoading","setTitulo","setErrorMessage","baseUrlProductosRecomendados","concat","get","then","response","data","catch","error","message","AxiosGetProductosFavoritos","setListadoFavoritos","email","sessionStorage","getItem","baseUrlFavourite","AxiosGetProductoFavorito","id","setLike","flag","map","p","AxiosGetProductosPorCiudadFechaYCategoria","city","startDate","endDate","category","baseUrlFiltros","startDateParse","Date","getFullYear","endDateParse","post","cityId","console","log","titleCity","name","titleCategory","titleFecha","toLocaleDateString","length","AxiosCreateFavourite","AxiosDeletedMark","openModalSucceed","openModalErrorProductoConReservas","baseUrlBorrarProducto","headers","Authorization","status"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/axiosCollection/Cards/AxiosCards.jsx"],"sourcesContent":["/*COMPONENTE CARDS*/\nimport axios from \"axios\";\nconst { format } = require(\"date-fns\");\n\nconst baseUrl = \"http://worldguestbooking.com.ar:8080/\"\n\n//YA TESTEADO\n\nfunction AxiosGetProductosRecomendados(setData, setLoading, setTitulo, setErrorMessage) {\n    const baseUrlProductosRecomendados = `${baseUrl}products/get/recommended`;\n\n    axios.get(baseUrlProductosRecomendados)\n        .then(response => {\n            setData(response.data);\n            setLoading(false);\n            setTitulo(\"Recomendaciones\");\n        })\n        .catch(error => {\n            setErrorMessage(error.message);\n            setLoading(false);\n        })\n}\n\n//YA TESTEADO\n\nfunction AxiosGetProductosFavoritos(setListadoFavoritos, setErrorMessage) {\n    let email = sessionStorage.getItem(\"email\")\n    const baseUrlFavourite = `${baseUrl}users/getfavourites/${email}`;\n\n    sessionStorage.getItem(\"email\") &&\n        axios.get(baseUrlFavourite)\n            .then(response => {\n                setListadoFavoritos(response.data);\n            })\n            .catch(error => {\n                setErrorMessage(error.message);\n            });\n}\n\n//YA TESTEADO\n\nfunction AxiosGetProductoFavorito(setErrorMessage, id, setLike) {\n    let email = sessionStorage.getItem(\"email\")\n    const baseUrlFavourite = `${baseUrl}users/getfavourites/${email}`;\n\n    sessionStorage.getItem(\"email\") &&\n        axios.get(baseUrlFavourite)\n            .then(response => {\n                let flag = false;\n                response.data.map((p) => p.id === id ? flag = true : null);\n                setLike(flag)\n            })\n            .catch(error => {\n                setErrorMessage(error.message);\n                return false;\n            });\n}\n\nfunction AxiosGetProductosPorCiudadFechaYCategoria(setData, setLoading, setTitulo, setErrorMessage, city, startDate, endDate, category) {\n\n    const baseUrlFiltros = `${baseUrl}products/filters`;\n\n    let startDateParse = startDate !== null ? (new Date(startDate).getFullYear() + \"-\" + format(new Date(startDate), \"MM\") + \"-\" + format(new Date(startDate), \"dd\")) : null;\n\n    let endDateParse = endDate !== null ? (new Date(endDate).getFullYear() + \"-\" + format(new Date(endDate), \"MM\") + \"-\" + format(new Date(endDate), \"dd\")) : null;\n\n    axios.post(baseUrlFiltros, { cityId: city, startDate: startDateParse, endDate: endDateParse, category: category })\n        .then(response => {\n            setData(response.data);\n            console.log(response.data, \"Axios\");\n            setLoading(false);\n            return response.data;\n        })\n        .then(response => {\n            let titleCity = () => { return city && ` en ${response[0].city.name} ` };\n            let titleCategory = () => {\n                return category === \"All\" ? ` para todas las categorías disponibles ` : ` para ${category} disponibles `;\n            };\n            let titleFecha = () => {\n                return (startDate) ? `del ${startDate.toLocaleDateString()} al ${endDate.toLocaleDateString()} ` : \"\";\n            };\n            if (response.length === 0) {\n                setTitulo(\"No hay resultados disponibles para la búsqueda\");\n            } else {\n                setTitulo(`Resultados ${titleCategory()} ${titleCity()} ${titleFecha()}`);\n            }\n        })\n        .catch(error => {\n            setErrorMessage(error.message);\n            setLoading(false);\n            console.log(error.message, \"soy el mensaje de error\");\n        });\n}\n\nfunction AxiosCreateFavourite(id, setErrorMessage) {\n    let email = sessionStorage.getItem(\"email\");\n    const baseUrlFavourite = `${baseUrl}users/handlefavourite/${email}/${id}`;\n    console.log(baseUrlFavourite, \"soy la url de favoritos\");\n\n    if (sessionStorage.getItem(\"email\") != null) {\n        axios\n            .post(baseUrlFavourite)\n            .catch(error => {\n                setErrorMessage(error.message);\n                console.log(error.message);\n            })\n    }\n}\n\nfunction AxiosDeletedMark(id, openModalSucceed, openModalErrorProductoConReservas) {\n    const baseUrlBorrarProducto = `${baseUrl}products/deletedmark/${id}`;\n\n    axios.post(baseUrlBorrarProducto, {}, {\n        headers: {\n            Authorization: `Bearer ${sessionStorage.getItem(\"token\")}`\n        }\n    })\n        .then(response => {\n            console.log(response.data);\n            openModalSucceed()\n        })\n        .catch(error => {\n            if(error.response.status){\n                openModalErrorProductoConReservas()\n            }\n            console.log(error.message);\n        })\n}\n\nexport { AxiosGetProductosRecomendados, AxiosGetProductosFavoritos, AxiosGetProductosPorCiudadFechaYCategoria, AxiosCreateFavourite, AxiosGetProductoFavorito, AxiosDeletedMark }"],"mappings":"AAAA,oBACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,KAAM,CAAEC,MAAO,CAAC,CAAGC,OAAO,CAAC,UAAU,CAAC,CAEtC,KAAM,CAAAC,OAAO,CAAG,uCAAuC,CAEvD;AAEA,QAAS,CAAAC,6BAA6BA,CAACC,OAAO,CAAEC,UAAU,CAAEC,SAAS,CAAEC,eAAe,CAAE,CACpF,KAAM,CAAAC,4BAA4B,IAAAC,MAAA,CAAMP,OAAO,4BAA0B,CAEzEH,KAAK,CAACW,GAAG,CAACF,4BAA4B,CAAC,CAClCG,IAAI,CAACC,QAAQ,EAAI,CACdR,OAAO,CAACQ,QAAQ,CAACC,IAAI,CAAC,CACtBR,UAAU,CAAC,KAAK,CAAC,CACjBC,SAAS,CAAC,iBAAiB,CAAC,CAChC,CAAC,CAAC,CACDQ,KAAK,CAACC,KAAK,EAAI,CACZR,eAAe,CAACQ,KAAK,CAACC,OAAO,CAAC,CAC9BX,UAAU,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACV,CAEA;AAEA,QAAS,CAAAY,0BAA0BA,CAACC,mBAAmB,CAAEX,eAAe,CAAE,CACtE,GAAI,CAAAY,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,gBAAgB,IAAAb,MAAA,CAAMP,OAAO,yBAAAO,MAAA,CAAuBU,KAAK,CAAE,CAEjEC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,EAC3BtB,KAAK,CAACW,GAAG,CAACY,gBAAgB,CAAC,CACtBX,IAAI,CAACC,QAAQ,EAAI,CACdM,mBAAmB,CAACN,QAAQ,CAACC,IAAI,CAAC,CACtC,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACZR,eAAe,CAACQ,KAAK,CAACC,OAAO,CAAC,CAClC,CAAC,CAAC,CACd,CAEA;AAEA,QAAS,CAAAO,wBAAwBA,CAAChB,eAAe,CAAEiB,EAAE,CAAEC,OAAO,CAAE,CAC5D,GAAI,CAAAN,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,gBAAgB,IAAAb,MAAA,CAAMP,OAAO,yBAAAO,MAAA,CAAuBU,KAAK,CAAE,CAEjEC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,EAC3BtB,KAAK,CAACW,GAAG,CAACY,gBAAgB,CAAC,CACtBX,IAAI,CAACC,QAAQ,EAAI,CACd,GAAI,CAAAc,IAAI,CAAG,KAAK,CAChBd,QAAQ,CAACC,IAAI,CAACc,GAAG,CAAEC,CAAC,EAAKA,CAAC,CAACJ,EAAE,GAAKA,EAAE,CAAGE,IAAI,CAAG,IAAI,CAAG,IAAI,CAAC,CAC1DD,OAAO,CAACC,IAAI,CAAC,CACjB,CAAC,CAAC,CACDZ,KAAK,CAACC,KAAK,EAAI,CACZR,eAAe,CAACQ,KAAK,CAACC,OAAO,CAAC,CAC9B,MAAO,MAAK,CAChB,CAAC,CAAC,CACd,CAEA,QAAS,CAAAa,yCAAyCA,CAACzB,OAAO,CAAEC,UAAU,CAAEC,SAAS,CAAEC,eAAe,CAAEuB,IAAI,CAAEC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,CAAE,CAEpI,KAAM,CAAAC,cAAc,IAAAzB,MAAA,CAAMP,OAAO,oBAAkB,CAEnD,GAAI,CAAAiC,cAAc,CAAGJ,SAAS,GAAK,IAAI,CAAI,GAAI,CAAAK,IAAI,CAACL,SAAS,CAAC,CAACM,WAAW,CAAC,CAAC,CAAG,GAAG,CAAGrC,MAAM,CAAC,GAAI,CAAAoC,IAAI,CAACL,SAAS,CAAC,CAAE,IAAI,CAAC,CAAG,GAAG,CAAG/B,MAAM,CAAC,GAAI,CAAAoC,IAAI,CAACL,SAAS,CAAC,CAAE,IAAI,CAAC,CAAI,IAAI,CAExK,GAAI,CAAAO,YAAY,CAAGN,OAAO,GAAK,IAAI,CAAI,GAAI,CAAAI,IAAI,CAACJ,OAAO,CAAC,CAACK,WAAW,CAAC,CAAC,CAAG,GAAG,CAAGrC,MAAM,CAAC,GAAI,CAAAoC,IAAI,CAACJ,OAAO,CAAC,CAAE,IAAI,CAAC,CAAG,GAAG,CAAGhC,MAAM,CAAC,GAAI,CAAAoC,IAAI,CAACJ,OAAO,CAAC,CAAE,IAAI,CAAC,CAAI,IAAI,CAE9JjC,KAAK,CAACwC,IAAI,CAACL,cAAc,CAAE,CAAEM,MAAM,CAAEV,IAAI,CAAEC,SAAS,CAAEI,cAAc,CAAEH,OAAO,CAAEM,YAAY,CAAEL,QAAQ,CAAEA,QAAS,CAAC,CAAC,CAC7GtB,IAAI,CAACC,QAAQ,EAAI,CACdR,OAAO,CAACQ,QAAQ,CAACC,IAAI,CAAC,CACtB4B,OAAO,CAACC,GAAG,CAAC9B,QAAQ,CAACC,IAAI,CAAE,OAAO,CAAC,CACnCR,UAAU,CAAC,KAAK,CAAC,CACjB,MAAO,CAAAO,QAAQ,CAACC,IAAI,CACxB,CAAC,CAAC,CACDF,IAAI,CAACC,QAAQ,EAAI,CACd,GAAI,CAAA+B,SAAS,CAAGA,CAAA,GAAM,CAAE,MAAO,CAAAb,IAAI,SAAArB,MAAA,CAAWG,QAAQ,CAAC,CAAC,CAAC,CAACkB,IAAI,CAACc,IAAI,KAAG,CAAC,CAAC,CACxE,GAAI,CAAAC,aAAa,CAAGA,CAAA,GAAM,CACtB,MAAO,CAAAZ,QAAQ,GAAK,KAAK,uDAAAxB,MAAA,CAAwDwB,QAAQ,iBAAe,CAC5G,CAAC,CACD,GAAI,CAAAa,UAAU,CAAGA,CAAA,GAAM,CACnB,MAAQ,CAAAf,SAAS,QAAAtB,MAAA,CAAWsB,SAAS,CAACgB,kBAAkB,CAAC,CAAC,SAAAtC,MAAA,CAAOuB,OAAO,CAACe,kBAAkB,CAAC,CAAC,MAAM,EAAE,CACzG,CAAC,CACD,GAAInC,QAAQ,CAACoC,MAAM,GAAK,CAAC,CAAE,CACvB1C,SAAS,CAAC,gDAAgD,CAAC,CAC/D,CAAC,IAAM,CACHA,SAAS,eAAAG,MAAA,CAAeoC,aAAa,CAAC,CAAC,MAAApC,MAAA,CAAIkC,SAAS,CAAC,CAAC,MAAAlC,MAAA,CAAIqC,UAAU,CAAC,CAAC,CAAE,CAAC,CAC7E,CACJ,CAAC,CAAC,CACDhC,KAAK,CAACC,KAAK,EAAI,CACZR,eAAe,CAACQ,KAAK,CAACC,OAAO,CAAC,CAC9BX,UAAU,CAAC,KAAK,CAAC,CACjBoC,OAAO,CAACC,GAAG,CAAC3B,KAAK,CAACC,OAAO,CAAE,yBAAyB,CAAC,CACzD,CAAC,CAAC,CACV,CAEA,QAAS,CAAAiC,oBAAoBA,CAACzB,EAAE,CAAEjB,eAAe,CAAE,CAC/C,GAAI,CAAAY,KAAK,CAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,gBAAgB,IAAAb,MAAA,CAAMP,OAAO,2BAAAO,MAAA,CAAyBU,KAAK,MAAAV,MAAA,CAAIe,EAAE,CAAE,CACzEiB,OAAO,CAACC,GAAG,CAACpB,gBAAgB,CAAE,yBAAyB,CAAC,CAExD,GAAIF,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,IAAI,CAAE,CACzCtB,KAAK,CACAwC,IAAI,CAACjB,gBAAgB,CAAC,CACtBR,KAAK,CAACC,KAAK,EAAI,CACZR,eAAe,CAACQ,KAAK,CAACC,OAAO,CAAC,CAC9ByB,OAAO,CAACC,GAAG,CAAC3B,KAAK,CAACC,OAAO,CAAC,CAC9B,CAAC,CAAC,CACV,CACJ,CAEA,QAAS,CAAAkC,gBAAgBA,CAAC1B,EAAE,CAAE2B,gBAAgB,CAAEC,iCAAiC,CAAE,CAC/E,KAAM,CAAAC,qBAAqB,IAAA5C,MAAA,CAAMP,OAAO,0BAAAO,MAAA,CAAwBe,EAAE,CAAE,CAEpEzB,KAAK,CAACwC,IAAI,CAACc,qBAAqB,CAAE,CAAC,CAAC,CAAE,CAClCC,OAAO,CAAE,CACLC,aAAa,WAAA9C,MAAA,CAAYW,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC,CAC5D,CACJ,CAAC,CAAC,CACGV,IAAI,CAACC,QAAQ,EAAI,CACd6B,OAAO,CAACC,GAAG,CAAC9B,QAAQ,CAACC,IAAI,CAAC,CAC1BsC,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAC,CACDrC,KAAK,CAACC,KAAK,EAAI,CACZ,GAAGA,KAAK,CAACH,QAAQ,CAAC4C,MAAM,CAAC,CACrBJ,iCAAiC,CAAC,CAAC,CACvC,CACAX,OAAO,CAACC,GAAG,CAAC3B,KAAK,CAACC,OAAO,CAAC,CAC9B,CAAC,CAAC,CACV,CAEA,OAASb,6BAA6B,CAAEc,0BAA0B,CAAEY,yCAAyC,CAAEoB,oBAAoB,CAAE1B,wBAAwB,CAAE2B,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}