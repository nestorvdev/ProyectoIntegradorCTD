{"ast":null,"code":"import Styles from\"./styles.module.css\";import iconLocation from\"../Cards/img/IconLocation.svg\";import ScoreStar from\"../Product/ScoreStar\";import{Modal}from'react-responsive-modal';import'react-responsive-modal/styles.css';import Succeed from\"./Succeed\";import{useState}from\"react\";import{AxiosCrearReserva}from\"../../axiosCollection/Booking/AxiosBooking\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DetailBar(props){/* eslint-disable no-unused-vars */const{nameUser,surnameUser,emailUser,cityUser,setErrorBooking,errorBooking,id,image,category,name,city,country,reference,qualification,checkin,checkout,arrivalSchedule}=props;let cantStar=Math.floor(qualification/2);const[modalSucceedIsOpen,setModalSucceedIsOpen]=useState(false);const formatDate=date=>{const arrayDate=date.split(\"/\");let mes;switch(arrayDate[1]){case\"Jan\":mes=\"01\";break;case\"Feb\":mes=\"02\";break;case\"Mar\":mes=\"03\";break;case\"Apr\":mes=\"04\";break;case\"May\":mes=\"05\";break;case\"Jun\":mes=\"06\";break;case\"Jul\":mes=\"07\";break;case\"Aug\":mes=\"08\";break;case\"Sep\":mes=\"09\";break;case\"Oct\":mes=\"10\";break;case\"Nov\":mes=\"11\";break;case\"Dec\":mes=\"12\";break;default:break;}return arrayDate[2]+\"-\"+mes+\"-\"+arrayDate[0];};const openModalSucceed=()=>{setModalSucceedIsOpen(true);};const closeModalSucceed=()=>{setModalSucceedIsOpen(false);};const handleBooking=()=>{if(checkin&&checkout&&arrivalSchedule&&nameUser&&surnameUser&&emailUser&&cityUser){AxiosCrearReserva(arrivalSchedule,formatDate,checkin,checkout,id,openModalSucceed,setErrorBooking);if(checkin>=new Date().setHours(0,0,0,0)){sessionStorage.setItem(\"startDate\",checkin.toDateString());sessionStorage.setItem(\"endDate\",checkout.toDateString());}}else{setErrorBooking(\"Por favor complete todos los campos.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:Styles.detailBar,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalle de la Reserva\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:image,alt:\"imageHotel\"}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.detail,children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.detailProduct,children:[/*#__PURE__*/_jsx(\"p\",{children:category}),/*#__PURE__*/_jsx(\"h3\",{children:name}),/*#__PURE__*/_jsx(ScoreStar,{qualification:qualification,starColor:\"var(--primary-color)\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{className:Styles.iconLocation,src:iconLocation,alt:\"\"}),city,\",\\xA0\",country,\",\\xA0\",reference]})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.detailCheck,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Check-in*:\"}),/*#__PURE__*/_jsx(\"p\",{children:checkin})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Check-out*:\"}),/*#__PURE__*/_jsx(\"p\",{children:checkout})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBooking,children:\"Confirmar Reserva\"}),/*#__PURE__*/_jsx(\"div\",{className:Styles.containerErrorBooking,children:errorBooking?errorBooking:null}),/*#__PURE__*/_jsx(Modal,{open:modalSucceedIsOpen,onClose:closeModalSucceed,center:true,children:/*#__PURE__*/_jsx(Succeed,{})})]})]})]});}export default DetailBar;","map":{"version":3,"names":["Styles","iconLocation","ScoreStar","Modal","Succeed","useState","AxiosCrearReserva","jsx","_jsx","jsxs","_jsxs","DetailBar","props","nameUser","surnameUser","emailUser","cityUser","setErrorBooking","errorBooking","id","image","category","name","city","country","reference","qualification","checkin","checkout","arrivalSchedule","cantStar","Math","floor","modalSucceedIsOpen","setModalSucceedIsOpen","formatDate","date","arrayDate","split","mes","openModalSucceed","closeModalSucceed","handleBooking","Date","setHours","sessionStorage","setItem","toDateString","className","detailBar","children","src","alt","detail","detailProduct","starColor","detailCheck","onClick","containerErrorBooking","open","onClose","center"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/booking/DetailBar.jsx"],"sourcesContent":["import Styles from \"./styles.module.css\"\nimport iconLocation from \"../Cards/img/IconLocation.svg\";\nimport ScoreStar from \"../Product/ScoreStar\";\nimport { Modal } from 'react-responsive-modal';\nimport 'react-responsive-modal/styles.css';\nimport Succeed from \"./Succeed\"\nimport { useState } from \"react\";\nimport {AxiosCrearReserva} from \"../../axiosCollection/Booking/AxiosBooking\"\n\nfunction DetailBar(props) {\n    /* eslint-disable no-unused-vars */\n    const {nameUser, surnameUser, emailUser, cityUser, setErrorBooking, errorBooking, id, image, category, name, city, country, reference, qualification, checkin, checkout, arrivalSchedule } = props;\n    \n    let cantStar = Math.floor(qualification / 2);\n    const [modalSucceedIsOpen, setModalSucceedIsOpen] = useState(false)\n\n    const formatDate=(date)=>{\n        const arrayDate= date.split(\"/\")\n        let mes;\n        switch (arrayDate[1]) {\n            case \"Jan\":mes=\"01\"\n                break;\n            case \"Feb\":mes=\"02\"\n                break;\n            case \"Mar\":mes=\"03\"\n                break;\n            case \"Apr\":mes=\"04\"\n                break;\n            case \"May\":mes=\"05\"\n                break;\n            case \"Jun\":mes=\"06\"\n                break;\n            case \"Jul\":mes=\"07\"\n                break;\n            case \"Aug\":mes=\"08\"\n                break;\n            case \"Sep\":mes=\"09\"\n                break;\n            case \"Oct\":mes=\"10\"\n                break;\n            case \"Nov\":mes=\"11\"\n                break;\n            case \"Dec\":mes=\"12\"\n                break;\n            default:\n                break;\n        }\n\n        return arrayDate[2] + \"-\" + mes + \"-\" + arrayDate[0]\n    }\n\n    const openModalSucceed = (() => { \n        setModalSucceedIsOpen(true) \n    })\n\n    const closeModalSucceed = () => {\n        setModalSucceedIsOpen(false);\n    };\n\n    const handleBooking = () => {\n        if(checkin && checkout && arrivalSchedule && nameUser && surnameUser && emailUser && cityUser){\n            AxiosCrearReserva(arrivalSchedule, formatDate, checkin, checkout, id, openModalSucceed, setErrorBooking)\n            if (checkin >= new Date().setHours(0, 0, 0, 0)) {\n                sessionStorage.setItem(\"startDate\", checkin.toDateString());\n                sessionStorage.setItem(\"endDate\", checkout.toDateString());\n            }\n        }else {\n            setErrorBooking(\"Por favor complete todos los campos.\")\n        }\n    }\n\n    return (\n        <div className={Styles.detailBar}>\n            <h2>Detalle de la Reserva</h2>\n            <div>\n                <img src={image} alt=\"imageHotel\" />\n                <div className={Styles.detail}>\n                    <div className={Styles.detailProduct}>\n                        <p>{category}</p>\n                        <h3>{name}</h3>\n                        <ScoreStar qualification={qualification} starColor=\"var(--primary-color)\" />\n                        <p>\n                            <img className={Styles.iconLocation} src={iconLocation} alt=\"\" />\n                            {city},&#160;{country},&#160;{reference}\n                        </p>\n                    </div>\n                    <div className={Styles.detailCheck}>\n                        <div>\n                            <p>Check-in*:</p>\n                            <p>{checkin}</p>\n                        </div>\n                        <div>\n                            <p>Check-out*:</p>\n                            <p>{checkout}</p>\n                        </div>\n\n                    </div>\n                    <button onClick={handleBooking}>Confirmar Reserva</button>\n                    <div className={Styles.containerErrorBooking}>{errorBooking?errorBooking:null}</div>\n                    <Modal open={modalSucceedIsOpen} onClose={closeModalSucceed} center>\n                        <Succeed/>\n                    </Modal>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default DetailBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}