{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Styles from\"./styles.module.css\";import StylesApp from\"../../App.module.css\";import Book from\"./Book.jsx\";import arrow from\"./img/arrow.svg\";import TitleBar from\"../Product/TitleBar\";import{AxiosGetProductosFavoritos}from\"../../axiosCollection/Cards/AxiosCards\";import{AxiosGetReservationsByUserId}from\"../../axiosCollection/MyBookings/AxiosMyBookings\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MyBookings(props){const[data,setData]=useState([]);const[loading,setLoading]=useState(true);const[errorMessage,setErrorMessage]=useState(\"\");const limitCardPerPage=8;const[numberPage,setNumberPage]=useState(1);const[listadoFavoritos,setListadoFavoritos]=useState([]);useEffect(()=>{AxiosGetProductosFavoritos(setListadoFavoritos,setErrorMessage);AxiosGetReservationsByUserId(setData,setLoading,setErrorMessage);setNumberPage(1);},[]);const dataLimited=()=>data.slice((numberPage-1)*limitCardPerPage,numberPage*limitCardPerPage);const indexPages=()=>{let pages=[];let cant=data.length%limitCardPerPage===0?data.length/limitCardPerPage:Math.floor(data.length/limitCardPerPage)+1;for(let i=0;i<cant;i++){pages.push(/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNumberPage(i+1),disabled:numberPage-1===i,children:i+1},i+1));}return pages;};return errorMessage&&loading?/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(StylesApp.delimiter),children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(Styles.cardsBlock,\" \").concat(StylesApp.delimiterChild),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reservas\"}),\"Resultados no disponibles - Falta la conexi\\xF3n con el Back\"]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TitleBar,{name:\"Mis reservas\",goBack:props.goBack}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(StylesApp.delimiter),children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(Styles.cardsBlock,\" \").concat(StylesApp.delimiterChild),children:[data.length!=0?/*#__PURE__*/_jsx(\"div\",{className:Styles.cardsBox,children:dataLimited().map(e=>/*#__PURE__*/_jsx(Book,{id:e.productId,reservationId:e.id,startDate:e.startDate,endDate:e.endDate},e.id))}):/*#__PURE__*/_jsx(\"div\",{className:Styles.sinReservas,children:\"No hay reservas disponibles\"}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.pages,children:[numberPage>1&&/*#__PURE__*/_jsx(\"img\",{className:Styles.left,onClick:()=>setNumberPage(numberPage-1),src:arrow,alt:\"arrowLeft\"}),indexPages(),numberPage<indexPages().length&&/*#__PURE__*/_jsx(\"img\",{className:Styles.right,onClick:()=>setNumberPage(numberPage+1),src:arrow,alt:\"arrowRight\"})]})]})})]});}","map":{"version":3,"names":["React","useState","useEffect","Styles","StylesApp","Book","arrow","TitleBar","AxiosGetProductosFavoritos","AxiosGetReservationsByUserId","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyBookings","props","data","setData","loading","setLoading","errorMessage","setErrorMessage","limitCardPerPage","numberPage","setNumberPage","listadoFavoritos","setListadoFavoritos","dataLimited","slice","indexPages","pages","cant","length","Math","floor","i","push","onClick","disabled","children","className","concat","delimiter","cardsBlock","delimiterChild","name","goBack","cardsBox","map","e","id","productId","reservationId","startDate","endDate","sinReservas","left","src","alt","right"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/MyBookings/MyBookings.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Styles from \"./styles.module.css\";\nimport StylesApp from \"../../App.module.css\";\nimport Book from \"./Book.jsx\";\nimport arrow from \"./img/arrow.svg\";\nimport TitleBar from \"../Product/TitleBar\";\nimport { AxiosGetProductosFavoritos } from \"../../axiosCollection/Cards/AxiosCards\";\nimport { AxiosGetReservationsByUserId } from \"../../axiosCollection/MyBookings/AxiosMyBookings\";\n\n\nexport default function MyBookings(props) {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const limitCardPerPage = 8;\n  const [numberPage, setNumberPage] = useState(1);\n\n  const [listadoFavoritos, setListadoFavoritos] = useState([]);\n\n  useEffect(() => {\n    AxiosGetProductosFavoritos(setListadoFavoritos, setErrorMessage);\n    AxiosGetReservationsByUserId(setData, setLoading, setErrorMessage);    \n    setNumberPage(1);\n  }, []);\n\n\n  const dataLimited = () =>\n    data.slice(\n      (numberPage - 1) * limitCardPerPage,\n      numberPage * limitCardPerPage\n    );\n\n  const indexPages = () => {\n    let pages = [];\n    let cant =\n      data.length % limitCardPerPage === 0\n        ? data.length / limitCardPerPage\n        : Math.floor(data.length / limitCardPerPage) + 1;\n    for (let i = 0; i < cant; i++) {\n      pages.push(\n        <button\n          onClick={() => setNumberPage(i + 1)}\n          disabled={numberPage - 1 === i}\n          key={i + 1}\n        >\n          {i + 1}\n        </button>\n      );\n    }\n    return pages;\n  };\n\n\n  return errorMessage && loading ? (\n    <div className={`${StylesApp.delimiter}`}>\n      <div className={`${Styles.cardsBlock} ${StylesApp.delimiterChild}`}>\n        <h2>Reservas</h2>\n        Resultados no disponibles - Falta la conexi√≥n con el Back\n      </div>\n    </div>\n  ) : (\n    <>\n      <TitleBar name=\"Mis reservas\" goBack={props.goBack} />\n      <div className={`${StylesApp.delimiter}`}>\n        <div className={`${Styles.cardsBlock} ${StylesApp.delimiterChild}`}>\n          {data.length != 0 ?\n            <div className={Styles.cardsBox}>{\n             dataLimited().map((e) => (\n              <Book\n                key={e.id}\n                id={e.productId}\n                reservationId={e.id}\n                startDate={e.startDate}\n                endDate={e.endDate}\n              />\n              ))}\n            </div>\n            : <div className={Styles.sinReservas}>No hay reservas disponibles</div>}\n          <div className={Styles.pages}>\n            {numberPage > 1 && (\n              <img\n                className={Styles.left}\n                onClick={() => setNumberPage(numberPage - 1)}\n                src={arrow}\n                alt=\"arrowLeft\"\n              />\n            )}\n            {indexPages()}\n            {numberPage < indexPages().length && (\n              <img\n                className={Styles.right}\n                onClick={() => setNumberPage(numberPage + 1)}\n                src={arrow}\n                alt=\"arrowRight\"\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,SAAS,KAAM,sBAAsB,CAC5C,MAAO,CAAAC,IAAI,KAAM,YAAY,CAC7B,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,OAASC,0BAA0B,KAAQ,wCAAwC,CACnF,OAASC,4BAA4B,KAAQ,kDAAkD,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGhG,cAAe,SAAS,CAAAC,UAAUA,CAACC,KAAK,CAAE,CACxC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACmB,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACqB,YAAY,CAAEC,eAAe,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAAuB,gBAAgB,CAAG,CAAC,CAC1B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGzB,QAAQ,CAAC,CAAC,CAAC,CAE/C,KAAM,CAAC0B,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG3B,QAAQ,CAAC,EAAE,CAAC,CAE5DC,SAAS,CAAC,IAAM,CACdM,0BAA0B,CAACoB,mBAAmB,CAAEL,eAAe,CAAC,CAChEd,4BAA4B,CAACU,OAAO,CAAEE,UAAU,CAAEE,eAAe,CAAC,CAClEG,aAAa,CAAC,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAG,WAAW,CAAGA,CAAA,GAClBX,IAAI,CAACY,KAAK,CACR,CAACL,UAAU,CAAG,CAAC,EAAID,gBAAgB,CACnCC,UAAU,CAAGD,gBACf,CAAC,CAEH,KAAM,CAAAO,UAAU,CAAGA,CAAA,GAAM,CACvB,GAAI,CAAAC,KAAK,CAAG,EAAE,CACd,GAAI,CAAAC,IAAI,CACNf,IAAI,CAACgB,MAAM,CAAGV,gBAAgB,GAAK,CAAC,CAChCN,IAAI,CAACgB,MAAM,CAAGV,gBAAgB,CAC9BW,IAAI,CAACC,KAAK,CAAClB,IAAI,CAACgB,MAAM,CAAGV,gBAAgB,CAAC,CAAG,CAAC,CACpD,IAAK,GAAI,CAAAa,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,IAAI,CAAEI,CAAC,EAAE,CAAE,CAC7BL,KAAK,CAACM,IAAI,cACR3B,IAAA,WACE4B,OAAO,CAAEA,CAAA,GAAMb,aAAa,CAACW,CAAC,CAAG,CAAC,CAAE,CACpCG,QAAQ,CAAEf,UAAU,CAAG,CAAC,GAAKY,CAAE,CAAAI,QAAA,CAG9BJ,CAAC,CAAG,CAAC,EAFDA,CAAC,CAAG,CAGH,CACV,CAAC,CACH,CACA,MAAO,CAAAL,KAAK,CACd,CAAC,CAGD,MAAO,CAAAV,YAAY,EAAIF,OAAO,cAC5BT,IAAA,QAAK+B,SAAS,IAAAC,MAAA,CAAKvC,SAAS,CAACwC,SAAS,CAAG,CAAAH,QAAA,cACvC5B,KAAA,QAAK6B,SAAS,IAAAC,MAAA,CAAKxC,MAAM,CAAC0C,UAAU,MAAAF,MAAA,CAAIvC,SAAS,CAAC0C,cAAc,CAAG,CAAAL,QAAA,eACjE9B,IAAA,OAAA8B,QAAA,CAAI,UAAQ,CAAI,CAAC,+DAEnB,EAAK,CAAC,CACH,CAAC,cAEN5B,KAAA,CAAAE,SAAA,EAAA0B,QAAA,eACE9B,IAAA,CAACJ,QAAQ,EAACwC,IAAI,CAAC,cAAc,CAACC,MAAM,CAAE/B,KAAK,CAAC+B,MAAO,CAAE,CAAC,cACtDrC,IAAA,QAAK+B,SAAS,IAAAC,MAAA,CAAKvC,SAAS,CAACwC,SAAS,CAAG,CAAAH,QAAA,cACvC5B,KAAA,QAAK6B,SAAS,IAAAC,MAAA,CAAKxC,MAAM,CAAC0C,UAAU,MAAAF,MAAA,CAAIvC,SAAS,CAAC0C,cAAc,CAAG,CAAAL,QAAA,EAChEvB,IAAI,CAACgB,MAAM,EAAI,CAAC,cACfvB,IAAA,QAAK+B,SAAS,CAAEvC,MAAM,CAAC8C,QAAS,CAAAR,QAAA,CAC/BZ,WAAW,CAAC,CAAC,CAACqB,GAAG,CAAEC,CAAC,eACnBxC,IAAA,CAACN,IAAI,EAEH+C,EAAE,CAAED,CAAC,CAACE,SAAU,CAChBC,aAAa,CAAEH,CAAC,CAACC,EAAG,CACpBG,SAAS,CAAEJ,CAAC,CAACI,SAAU,CACvBC,OAAO,CAAEL,CAAC,CAACK,OAAQ,EAJdL,CAAC,CAACC,EAKR,CACA,CAAC,CACC,CAAC,cACJzC,IAAA,QAAK+B,SAAS,CAAEvC,MAAM,CAACsD,WAAY,CAAAhB,QAAA,CAAC,6BAA2B,CAAK,CAAC,cACzE5B,KAAA,QAAK6B,SAAS,CAAEvC,MAAM,CAAC6B,KAAM,CAAAS,QAAA,EAC1BhB,UAAU,CAAG,CAAC,eACbd,IAAA,QACE+B,SAAS,CAAEvC,MAAM,CAACuD,IAAK,CACvBnB,OAAO,CAAEA,CAAA,GAAMb,aAAa,CAACD,UAAU,CAAG,CAAC,CAAE,CAC7CkC,GAAG,CAAErD,KAAM,CACXsD,GAAG,CAAC,WAAW,CAChB,CACF,CACA7B,UAAU,CAAC,CAAC,CACZN,UAAU,CAAGM,UAAU,CAAC,CAAC,CAACG,MAAM,eAC/BvB,IAAA,QACE+B,SAAS,CAAEvC,MAAM,CAAC0D,KAAM,CACxBtB,OAAO,CAAEA,CAAA,GAAMb,aAAa,CAACD,UAAU,CAAG,CAAC,CAAE,CAC7CkC,GAAG,CAAErD,KAAM,CACXsD,GAAG,CAAC,YAAY,CACjB,CACF,EACE,CAAC,EACH,CAAC,CACH,CAAC,EACN,CACH,CACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}