{"ast":null,"code":"import styles from\"./styles.module.css\";import{Link}from\"react-router-dom\";import{useEffect,useState}from\"react\";import hidePassword from\"./icons/hidePassword.png\";import{AxiosLogin}from\"../../axiosCollection/Forms/AxiosForms\";import IconError from\"./icons/iconError.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function FormLogin(_ref){let{lastLocation,bookingWithoutLogin,setLoading,setActiveLogin,setActiveCreate,setLog}=_ref;const[email,setEmail]=useState({campo:\"\",valido:true,error:\"\"});const[password,setPassword]=useState({campo:\"\",valido:true,error:\"\"});const[error,setError]=useState(\"\");const[formValido,setFormValido]=useState(false);useEffect(()=>{setActiveCreate(false);setActiveLogin(true);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);/*CONTROL DE COMPONENTES MEDIANTE HANDLES */const handleChangeEmail=event=>{setEmail({...email,campo:event.target.value});};const handleChangePassword=event=>{setPassword({...password,campo:event.target.value});};const validarEmailNulo=()=>{if(!email.campo){setEmail({...email,valido:false,error:\"El email no puede estar vacío.\"});}else{setEmail({...email,valido:true,error:\"\"});}};const validarPasswordNulo=()=>{if(!password.campo){setPassword({...password,valido:false,error:\"La contraseña no puede estar vacía.\"});}else{setPassword({...password,valido:true,error:\"\"});}};const sendData=event=>{event.preventDefault();validarEmailNulo();validarPasswordNulo();if(password.campo&&email.campo&&password.valido&&email.valido){AxiosLogin(email.campo,password.campo,setFormValido,setLog,setError,setEmail,setPassword,setLoading,lastLocation);}};function mostrarContrasena(){let tipo=document.getElementById(\"password\");if(tipo.type===\"password\"){tipo.type=\"text\";}else{tipo.type=\"password\";}}return/*#__PURE__*/_jsx(\"div\",{className:styles.containerPrincipal,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.containerForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.errorLogin,\" \").concat(!bookingWithoutLogin?styles.hide:null),children:[/*#__PURE__*/_jsx(\"img\",{src:IconError,alt:\"icono de error\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Para realizar una reserva, necesitas estar logueado\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"\".concat(styles.formFlex,\" \").concat(styles.login),onSubmit:sendData,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.inputLabel,\" \"),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Correo electr\\xF3nico\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",value:email.campo,className:!email.valido?styles.inputError:null,onChange:handleChangeEmail,onKeyUp:validarEmailNulo}),/*#__PURE__*/_jsx(\"div\",{className:styles.errorContainer,children:/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:email.error})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.inputLabel,\" \"),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.inputHidePassword,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password.campo,className:!password.valido?styles.inputError:null,onChange:handleChangePassword,onKeyUp:validarPasswordNulo}),/*#__PURE__*/_jsx(\"img\",{src:hidePassword,alt:\"icon hide password\",className:\"\".concat(styles.hidePassword,\" \").concat(styles.passLogin),onClick:mostrarContrasena})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.errorContainer,children:/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:password.error})})]}),!formValido&&/*#__PURE__*/_jsx(\"div\",{className:styles.errorContainer,children:/*#__PURE__*/_jsx(\"p\",{className:styles.error,children:error})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.inputLabel,\" \").concat(styles.boton),children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",id:\"login\",children:\"Ingresar\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\xBFA\\xFAn no ten\\xE9s cuenta?\",/*#__PURE__*/_jsx(Link,{to:\"/create\",children:\" Registrate\"})]})]})]})]})});}","map":{"version":3,"names":["styles","Link","useEffect","useState","hidePassword","AxiosLogin","IconError","jsx","_jsx","jsxs","_jsxs","FormLogin","_ref","lastLocation","bookingWithoutLogin","setLoading","setActiveLogin","setActiveCreate","setLog","email","setEmail","campo","valido","error","password","setPassword","setError","formValido","setFormValido","handleChangeEmail","event","target","value","handleChangePassword","validarEmailNulo","validarPasswordNulo","sendData","preventDefault","mostrarContrasena","tipo","document","getElementById","type","className","containerPrincipal","children","containerForm","concat","errorLogin","hide","src","alt","formFlex","login","onSubmit","inputLabel","htmlFor","name","id","inputError","onChange","onKeyUp","errorContainer","inputHidePassword","passLogin","onClick","boton","to"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/Forms/FormLogin.jsx"],"sourcesContent":["import styles from \"./styles.module.css\"\nimport { Link } from \"react-router-dom\"\nimport { useEffect, useState } from \"react\";\nimport hidePassword from \"./icons/hidePassword.png\"\nimport { AxiosLogin } from \"../../axiosCollection/Forms/AxiosForms\"\nimport IconError from \"./icons/iconError.svg\"\n\nexport default function FormLogin({ lastLocation, bookingWithoutLogin, setLoading, setActiveLogin, setActiveCreate, setLog }) {\n    const [email, setEmail] = useState({ campo: \"\", valido: true, error: \"\" });\n    const [password, setPassword] = useState({ campo: \"\", valido: true, error: \"\" });\n    const [error, setError] = useState(\"\")\n    const [formValido, setFormValido] = useState(false)\n\n    useEffect(() => {\n        setActiveCreate(false)\n        setActiveLogin(true)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    /*CONTROL DE COMPONENTES MEDIANTE HANDLES */\n    const handleChangeEmail = (event) => { setEmail({ ...email, campo: event.target.value }) }\n\n    const handleChangePassword = (event) => { setPassword({ ...password, campo: event.target.value }) }\n\n    const validarEmailNulo = () => {\n        if (!email.campo) {\n            setEmail({ ...email, valido: false, error: \"El email no puede estar vacío.\" })\n        } else {\n            setEmail({ ...email, valido: true, error: \"\" })\n        }\n    }\n    const validarPasswordNulo = () => {\n        if (!password.campo) {\n            setPassword({ ...password, valido: false, error: \"La contraseña no puede estar vacía.\" })\n        } else {\n            setPassword({ ...password, valido: true, error: \"\" })\n        }\n    }\n\n    const sendData = (event) => {\n        event.preventDefault();\n        validarEmailNulo()\n        validarPasswordNulo()\n        if (password.campo && email.campo && password.valido && email.valido) {\n            AxiosLogin(email.campo, password.campo, setFormValido, setLog, setError, setEmail, setPassword, setLoading, lastLocation)\n        }        \n    }\n\n    function mostrarContrasena() {\n        let tipo = document.getElementById(\"password\");\n        if (tipo.type=== \"password\") {\n            tipo.type = \"text\"\n        } else {\n            tipo.type = \"password\"\n        }\n    }\n\n    return (\n        <div className={styles.containerPrincipal}>\n            <div className={styles.containerForm}>\n                <div className={`${styles.errorLogin} ${!bookingWithoutLogin ? styles.hide : null}`}>\n                    <img src={IconError} alt=\"icono de error\" />\n                    <div >Para realizar una reserva, necesitas estar logueado</div>\n                </div>\n                <h3>Iniciar sesión</h3>\n                <form className={`${styles.formFlex} ${styles.login}`} onSubmit={sendData}>\n                    <div className={`${styles.inputLabel} `}>\n                        <label htmlFor=\"email\">Correo electrónico</label>\n                        <input type=\"email\" name=\"email\" id=\"email\" value={email.campo} className={!email.valido ? styles.inputError : null} onChange={handleChangeEmail} onKeyUp={validarEmailNulo} />\n                        <div className={styles.errorContainer}><p className={styles.error}>{email.error}</p></div>\n                    </div>\n                    <div className={`${styles.inputLabel} `}>\n                        <label htmlFor=\"password\">Contraseña</label>\n                        <div className={styles.inputHidePassword}>\n                            <input type=\"password\" name=\"password\" id=\"password\" value={password.campo} className={!password.valido ? styles.inputError : null} onChange={handleChangePassword} onKeyUp={validarPasswordNulo} />\n                            <img src={hidePassword} alt=\"icon hide password\" className={`${styles.hidePassword} ${styles.passLogin}`} onClick={mostrarContrasena} />\n                        </div>\n                        <div className={styles.errorContainer}><p className={styles.error}>{password.error}</p></div>\n                    </div>\n\n                    {!formValido && <div className={styles.errorContainer}><p className={styles.error}>{error}</p></div>}\n                    <div className={`${styles.inputLabel} ${styles.boton}`}>\n                        <button type=\"submit\" id=\"login\">Ingresar</button>\n                        <p>¿Aún no tenés cuenta?<Link to=\"/create\"> Registrate</Link></p>\n                    </div>\n                </form>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}