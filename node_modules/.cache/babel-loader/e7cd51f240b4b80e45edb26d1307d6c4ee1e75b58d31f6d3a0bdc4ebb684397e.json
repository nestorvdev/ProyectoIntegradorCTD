{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import StylesApp from\"../../../App.module.css\";import Spinner from\"../../spinner/Spinner\";import FormProductUpdate from\"./FormProductUpdate\";import ProductSelect from\"./ProductSelect\";import TitleBar from\"../../Product/TitleBar\";import{AxiosGetCategories,AxiosGetCities,AxiosGetFeatures,AxiosGetProductById}from\"../../../axiosCollection/Product/AxiosProduct.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UpdateProduct(props){const[optionsCategories,setOptionsCategories]=useState([]);const[optionsCities,setOptionsCities]=useState([]);const[optionsFeatures,setOptionsFeatures]=useState([]);const[loading,setLoading]=useState(true);const[errorMessage,setErrorMessage]=useState(\"\");const title=\"¡Gracias!\";const message=\"Se ha actualizado exitosamente el producto\";const[product,setProduct]=useState({id:null,name:\"\",description:null,latitude:null,longitude:null,qualification:null,favorite:null,reference:\"\",category:{id:null,title:\"\",description:\"\",url:\"\"},city:{id:null,name:\"\",country:\"\"},images:[],features:[{id:null,title:\"\",state:null}],rules:\"\",health:\"\",politics:\"\",address:\"\"});let{id}=useParams();useEffect(()=>{AxiosGetCategories(setLoading,setOptionsCategories,setErrorMessage);AxiosGetCities(setLoading,setOptionsCities,setErrorMessage);AxiosGetFeatures(setLoading,setOptionsFeatures,setErrorMessage);if(id){AxiosGetProductById(id,setProduct,setLoading,setErrorMessage);}},[]);const handleProduct=p=>{window.location.pathname=\"/product/update/\".concat(p.id);//setProduct(p);\n};return errorMessage&&loading?/*#__PURE__*/_jsx(\"section\",{className:StylesApp.delimiter,children:/*#__PURE__*/_jsx(\"h1\",{children:errorMessage})}):/*#__PURE__*/_jsx(\"section\",{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TitleBar,{name:\"Administraci\\xF3n de productos\",goBack:props.goBack}),/*#__PURE__*/_jsx(\"section\",{className:StylesApp.delimiter,children:/*#__PURE__*/_jsxs(\"div\",{className:StylesApp.delimiterChild,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Modificar producto\"}),/*#__PURE__*/_jsx(ProductSelect,{handleProduct:handleProduct}),/*#__PURE__*/_jsx(FormProductUpdate,{product:product,categories:optionsCategories,cities:optionsCities,features:optionsFeatures,titleModal:title,messageModal:message})]})})]})});}export default UpdateProduct;","map":{"version":3,"names":["React","useState","useEffect","useParams","StylesApp","Spinner","FormProductUpdate","ProductSelect","TitleBar","AxiosGetCategories","AxiosGetCities","AxiosGetFeatures","AxiosGetProductById","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UpdateProduct","props","optionsCategories","setOptionsCategories","optionsCities","setOptionsCities","optionsFeatures","setOptionsFeatures","loading","setLoading","errorMessage","setErrorMessage","title","message","product","setProduct","id","name","description","latitude","longitude","qualification","favorite","reference","category","url","city","country","images","features","state","rules","health","politics","address","handleProduct","p","window","location","pathname","concat","className","delimiter","children","goBack","delimiterChild","categories","cities","titleModal","messageModal"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/Administrator/Product/UpdateProduct.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport StylesApp from \"../../../App.module.css\";\nimport Spinner from \"../../spinner/Spinner\";\nimport FormProductUpdate from \"./FormProductUpdate\";\nimport ProductSelect from \"./ProductSelect\";\nimport TitleBar from \"../../Product/TitleBar\";\nimport { AxiosGetCategories, AxiosGetCities, AxiosGetFeatures, AxiosGetProductById } from \"../../../axiosCollection/Product/AxiosProduct.jsx\"\n\nfunction UpdateProduct(props) {\n\n    const [optionsCategories, setOptionsCategories] = useState([])\n    const [optionsCities, setOptionsCities] = useState([])\n    const [optionsFeatures, setOptionsFeatures] = useState([])\n    const [loading, setLoading] = useState(true);\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const title = \"¡Gracias!\";\n    const message = \"Se ha actualizado exitosamente el producto\";\n    const [product, setProduct] = useState({\n        id: null,\n        name: \"\",\n        description: null,\n        latitude: null,\n        longitude: null,\n        qualification: null,\n        favorite: null,\n        reference: \"\",\n        category: { id: null, title: \"\", description: \"\", url: \"\" },\n        city: { id: null, name: \"\", country: \"\" },\n        images: [],\n        features: [{ id: null, title: \"\", state: null }],\n        rules: \"\",\n        health: \"\",\n        politics: \"\",\n        address: \"\",\n    });\n\n    let { id } = useParams();\n\n    useEffect(() => {\n        AxiosGetCategories(setLoading, setOptionsCategories, setErrorMessage)\n        AxiosGetCities(setLoading, setOptionsCities, setErrorMessage)\n        AxiosGetFeatures(setLoading, setOptionsFeatures, setErrorMessage)\n        if (id) {\n            AxiosGetProductById(id, setProduct, setLoading, setErrorMessage)\n        }\n    }, [])\n\n    const handleProduct = (p) => {\n        window.location.pathname = `/product/update/${p.id}`\n        //setProduct(p);\n    }    \n\n    return (\n        (errorMessage && loading) ?\n            <section className={StylesApp.delimiter}>\n                <h1>{errorMessage}</h1>\n            </section>\n            :\n            <section>\n                {loading ? (\n                    <Spinner />\n                ) : (\n                    <>\n                        <TitleBar name=\"Administración de productos\" goBack={props.goBack} />\n                        <section className={StylesApp.delimiter}>\n                            <div className={StylesApp.delimiterChild}>\n                                <h1>Modificar producto</h1>\n                                <ProductSelect handleProduct={handleProduct} />\n                                <FormProductUpdate product={product} categories={optionsCategories} cities={optionsCities} features={optionsFeatures} titleModal={title} messageModal={message} />\n                            </div>\n                        </section>\n                    </>\n                )}\n            </section>\n    )\n}\n\nexport default UpdateProduct;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}