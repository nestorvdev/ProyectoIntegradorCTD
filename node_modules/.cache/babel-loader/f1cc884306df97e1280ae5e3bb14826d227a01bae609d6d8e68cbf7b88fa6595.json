{"ast":null,"code":"import StylesApp from\"../../App.module.css\";import Styles from\"./styles.module.css\";import iconSocial from\"./icons/iconSocial.svg\";import React,{useState,useEffect}from\"react\";import white from\"./icons/NoImage.png\";import CarouselModal from\"./CarouselModal\";import Share from\"./Share\";import{Link}from\"react-router-dom\";import{Modal}from'react-responsive-modal';import'react-responsive-modal/styles.css';import{AxiosCreateFavourite,AxiosGetProductoFavorito}from\"../../axiosCollection/Cards/AxiosCards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ImageBar(props){const[errorMessage,setErrorMessage]=useState(\"\");const[countSlider,setCountSlider]=useState(0);// se separa las imagenes a mostrar para la galeria de vista tablet y mobile\nconst{images}=props;const[isLike,setIsLike]=useState(false);const changeSlider=()=>countSlider===images.length-1?setCountSlider(0):setCountSlider(countSlider+1);/*setTimeout(changeSlider,3000);*/const openLightBox=()=>{props.setViewerIsOpen(true);};const openShareModal=()=>{props.setShareIsOpen(true);};const openModalFavourite=()=>{setModalFavouriteIsOpen(true);props.setLastLocation(window.location.pathname);};const[modalFavouriteIsOpen,setModalFavouriteIsOpen]=useState(false);const closeModalFavourite=()=>{setModalFavouriteIsOpen(false);};useEffect(()=>{AxiosGetProductoFavorito(setErrorMessage,props.id,setIsLike);},[]);const handleToggle=()=>{AxiosCreateFavourite(props.id,setErrorMessage);setIsLike(prevState=>!prevState);};function handleErrorLogin(){props.setBookingWithoutLogin(false);}let placeShareCall=\"producto\";let logged=sessionStorage.getItem(\"log\");return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(Styles.imageBar,\" \").concat(StylesApp.delimiter),children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(Styles.imageBarChild,\" \").concat(StylesApp.delimiterChild),children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.barraSup,children:[/*#__PURE__*/_jsx(\"img\",{src:iconSocial,alt:\"iconSocial\",className:Styles.iconImage,onClick:openShareModal}),/*#__PURE__*/_jsx(Share,{id:props.id,shareIsOpen:props.shareIsOpen,setShareIsOpen:props.setShareIsOpen,placeShareCall:placeShareCall}),/*#__PURE__*/_jsx(\"svg\",{className:Styles.iconHeart,onClick:logged===\"true\"?handleToggle:openModalFavourite,xmlns:\"http://www.w3.org/2000/svg\",width:\"18\",height:\"18\",viewBox:\"0 0 25 25\",children:/*#__PURE__*/_jsx(\"path\",{className:isLike?Styles.heartColor2:Styles.heartColor,d:\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\"})}),/*#__PURE__*/_jsx(Modal,{open:modalFavouriteIsOpen,onClose:closeModalFavourite,center:true,children:/*#__PURE__*/_jsxs(\"div\",{className:Styles.modalFavourite,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Para agregar favoritos, ingresa a tu cuenta\"}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.buttons,children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:Styles.login,onClick:handleErrorLogin,children:\"Iniciar Sesi\\xF3n\"})}),/*#__PURE__*/_jsx(Link,{to:\"/create\",children:/*#__PURE__*/_jsx(\"button\",{className:Styles.create,children:\"Crear Cuenta\"})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.barraInf,children:[/*#__PURE__*/_jsx(\"div\",{className:Styles.barraIzq,children:/*#__PURE__*/_jsx(\"img\",{src:images[0].url,alt:images[0].title})}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.barraDer,children:[images[1]?/*#__PURE__*/_jsx(\"img\",{src:images[1].url,alt:images[1].title}):/*#__PURE__*/_jsx(\"img\",{src:white,alt:\"white\"}),images[2]?/*#__PURE__*/_jsx(\"img\",{src:images[2].url,alt:images[2].title}):/*#__PURE__*/_jsx(\"img\",{src:white,alt:\"white\"}),images[3]?/*#__PURE__*/_jsx(\"img\",{src:images[3].url,alt:images[3].title}):/*#__PURE__*/_jsx(\"img\",{src:white,alt:\"white\"}),images[4]?/*#__PURE__*/_jsx(\"img\",{src:images[4].url,alt:images[4].title}):/*#__PURE__*/_jsx(\"img\",{src:white,alt:\"white\"}),/*#__PURE__*/_jsx(\"div\",{className:Styles.verMas,onClick:openLightBox,children:\"Ver M\\xE1s\"})]}),/*#__PURE__*/_jsx(CarouselModal,{viewerIsOpen:props.viewerIsOpen,images:images,setCurrentImage:props.setCurrentImage,setViewerIsOpen:props.setViewerIsOpen}),/*#__PURE__*/_jsxs(\"div\",{className:Styles.slider,onClick:changeSlider,children:[/*#__PURE__*/_jsx(\"img\",{src:images[countSlider].url,alt:images[countSlider].title}),/*#__PURE__*/_jsx(\"p\",{children:countSlider+1+\"/\"+images.length})]})]})]})});}export default ImageBar;","map":{"version":3,"names":["StylesApp","Styles","iconSocial","React","useState","useEffect","white","CarouselModal","Share","Link","Modal","AxiosCreateFavourite","AxiosGetProductoFavorito","jsx","_jsx","jsxs","_jsxs","ImageBar","props","errorMessage","setErrorMessage","countSlider","setCountSlider","images","isLike","setIsLike","changeSlider","length","openLightBox","setViewerIsOpen","openShareModal","setShareIsOpen","openModalFavourite","setModalFavouriteIsOpen","setLastLocation","window","location","pathname","modalFavouriteIsOpen","closeModalFavourite","id","handleToggle","prevState","handleErrorLogin","setBookingWithoutLogin","placeShareCall","logged","sessionStorage","getItem","className","concat","imageBar","delimiter","children","imageBarChild","delimiterChild","barraSup","src","alt","iconImage","onClick","shareIsOpen","iconHeart","xmlns","width","height","viewBox","heartColor2","heartColor","d","open","onClose","center","modalFavourite","buttons","to","login","create","barraInf","barraIzq","url","title","barraDer","verMas","viewerIsOpen","setCurrentImage","slider"],"sources":["/Users/nestor/Desktop/ProyectoIntegradorCTD/src/components/Product/ImageBar.jsx"],"sourcesContent":["import StylesApp from \"../../App.module.css\";\nimport Styles from \"./styles.module.css\";\nimport iconSocial from \"./icons/iconSocial.svg\";\nimport React, { useState, useEffect } from \"react\";\nimport white from \"./icons/NoImage.png\";\nimport CarouselModal from \"./CarouselModal\";\nimport Share from \"./Share\";\nimport { Link } from \"react-router-dom\";\nimport { Modal } from 'react-responsive-modal';\nimport 'react-responsive-modal/styles.css';\nimport { AxiosCreateFavourite, AxiosGetProductoFavorito } from \"../../axiosCollection/Cards/AxiosCards\"\nfunction ImageBar(props) {    \n   \n    const [errorMessage, setErrorMessage] = useState(\"\");      \n    const [countSlider, setCountSlider] = useState(0); // se separa las imagenes a mostrar para la galeria de vista tablet y mobile\n    const { images } = props;    \n    const [isLike, setIsLike] = useState(false);\n    const changeSlider = () => countSlider === images.length - 1 ? setCountSlider(0) : setCountSlider(countSlider + 1);\n    /*setTimeout(changeSlider,3000);*/\n    const openLightBox = (() => { props.setViewerIsOpen(true) });\n    const openShareModal = (() => { props.setShareIsOpen(true) })\n    const openModalFavourite = (() => {\n        setModalFavouriteIsOpen(true)\n        props.setLastLocation(window.location.pathname)\n    })\n    const [modalFavouriteIsOpen, setModalFavouriteIsOpen] = useState(false)\n\n    const closeModalFavourite = () => {\n        setModalFavouriteIsOpen(false);\n    };     \n\n     useEffect(() => {\n       AxiosGetProductoFavorito(setErrorMessage, props.id,setIsLike);\n    }, []);    \n\n    const handleToggle = () => {\n        AxiosCreateFavourite(props.id, setErrorMessage)\n        setIsLike(prevState => !prevState)\n    } \n\n    function handleErrorLogin() {\n        props.setBookingWithoutLogin(false)\n    }\n\n    let placeShareCall = \"producto\"\n\n    let logged = sessionStorage.getItem(\"log\");  \n\n    return (\n        <div className={`${Styles.imageBar} ${StylesApp.delimiter}`}>\n            <div className={`${Styles.imageBarChild} ${StylesApp.delimiterChild}`}>\n                <div className={Styles.barraSup}>\n                    <img src={iconSocial} alt=\"iconSocial\" className={Styles.iconImage} onClick={openShareModal} />\n                    <Share id={props.id} shareIsOpen={props.shareIsOpen} setShareIsOpen={props.setShareIsOpen} placeShareCall={placeShareCall} />\n                    <svg className={Styles.iconHeart} onClick={logged === \"true\" ? handleToggle : openModalFavourite} xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 25 25\"><path className={isLike ? Styles.heartColor2 : Styles.heartColor} d=\"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z\" /></svg>\n                    <Modal open={modalFavouriteIsOpen} onClose={closeModalFavourite} center>\n                        <div className={Styles.modalFavourite}>\n                            <p>Para agregar favoritos, ingresa a tu cuenta</p>\n                            <div className={Styles.buttons}>\n                                <Link to=\"/login\">\n                                    <button className={Styles.login} onClick={handleErrorLogin}>\n                                        Iniciar Sesión\n                                    </button>\n                                </Link>\n                                <Link to=\"/create\" >\n                                    <button className={Styles.create}>\n                                        Crear Cuenta\n                                    </button>\n                                </Link>\n                            </div>\n                        </div>\n                    </Modal>\n                </div>\n                <div className={Styles.barraInf}>\n                    <div className={Styles.barraIzq}>\n                        <img src={images[0].url} alt={images[0].title} />\n                    </div>\n                    <div className={Styles.barraDer}>\n                        {images[1] ? <img src={images[1].url} alt={images[1].title} /> : <img src={white} alt=\"white\" />}\n                        {images[2] ? <img src={images[2].url} alt={images[2].title} /> : <img src={white} alt=\"white\" />}\n                        {images[3] ? <img src={images[3].url} alt={images[3].title} /> : <img src={white} alt=\"white\" />}\n                        {images[4] ? <img src={images[4].url} alt={images[4].title} /> : <img src={white} alt=\"white\" />}\n                        <div className={Styles.verMas} onClick={openLightBox}>Ver Más</div>\n                    </div>\n                    <CarouselModal viewerIsOpen={props.viewerIsOpen} images={images} setCurrentImage={props.setCurrentImage} setViewerIsOpen={props.setViewerIsOpen} />\n\n                    <div className={Styles.slider} onClick={changeSlider} >\n                        <img src={images[countSlider].url} alt={images[countSlider].title} />\n                        <p>{(countSlider + 1) + \"/\" + (images.length)}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default ImageBar;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}